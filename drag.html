<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="http://www.softwhy.com/" />
<title>蚁部落</title>
<!--设置viewport-->
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=0" />
<style>
.div {
  width: 300px;
  position: absolute;
  background-color: red;
  opacity:0.4;
}
    .cir {float:left;background-color:green;border-radius:10px;width:20px;height:20px;}
</style>
<script>
window.onload = function () {
  var oDiv = document.getElementsByClassName('div')[0];
  var disX, moveX, L, T, starX, starY, starXEnd, starYEnd;
  
  oDiv.addEventListener('touchstart', function (e) {
    e.preventDefault();//阻止触摸时页面的滚动，缩放
  
    disX = e.touches[0].clientX - this.offsetLeft;
    disY = e.touches[0].clientY - this.offsetTop;
    //手指按下时的坐标
    starX = e.touches[0].clientX;
    starY = e.touches[0].clientY;
    //console.log(disX);
  });
  oDiv.addEventListener('touchmove', function (e) {
    L = e.touches[0].clientX - disX;
    T = e.touches[0].clientY - disY;
    //移动时 当前位置与起始位置之间的差值
    starXEnd = e.touches[0].clientX - starX;
    starYEnd = e.touches[0].clientY - starY;
    //console.log(L);
    if (L < 0) {//限制拖拽的X范围，不能拖出屏幕
      L = 0;
    }
    else if (L > document.documentElement.clientWidth - this.offsetWidth) {
      L = document.documentElement.clientWidth - this.offsetWidth;
    }
  
    if (T < 0) {//限制拖拽的Y范围，不能拖出屏幕
      T = 0;
    }
    else if (T > document.documentElement.clientHeight - this.offsetHeight) {
      T = document.documentElement.clientHeight - this.offsetHeight;
    }
    moveX = L + 'px';
    moveY = T + 'px';
  
    this.style.left = moveX;
    this.style.top = moveY;
  });
  window.addEventListener('touchend', function (e) {
    //alert(parseInt(moveX))
    //判断滑动方向
  });
}
</script>
</head>
<body>
	<div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>

	</div>
	<br />
	<div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
	</div>
	<br />
	<div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
	</div>
	<br />
	<div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
	</div>
	<br />
	<div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
	</div>
	<br />
	<div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
	</div>
	<br />
	<div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
	</div>
	<br />
	<div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
	</div>
	<br />
	<div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
	</div>
	<br />
	<div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
		<div class="cir"></div>
	</div>


  <div class="div">
	  <div>
	  <div style="background-color:white;border-bottom-style:solid;border-right-style:solid;border-width:1px;float:left;width:50%;height:20px;"></div>
	  <div style="background-color:red;float:left;width:50%;height:20px;"></div></div>
	  <br />
	  <div style="background-color:red;width:100%;height:320px;"></div>
  </div>
</body>
</html>
